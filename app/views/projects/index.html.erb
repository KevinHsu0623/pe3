<%= render "shared/progress_header" %>

<h1>專案列表</h1>

<%= link_to "＋ 建立新專案", new_project_path, class: "btn btn-primary mb-3" %>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>ID</th>
      <th>專案名稱</th>
      <th>工程類型</th>
      <th>工程位置</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    <% @projects.each do |project| %>
      <tr>
        <td><%= project.id %></td>
        <td><%= project.project_name %></td>
        <td><%= project.project_type %></td>
        <td><%= project.location %></td>
        <td>
          <%= link_to "查看", project_path(project), class: "btn btn-sm btn-info" %>
          <%= link_to "編輯", edit_project_path(project), class: "btn btn-sm btn-warning" %>
          <%= link_to "刪除", project_path(project), method: :delete, data: { confirm: "確定要刪除嗎？" }, class: "btn btn-sm btn-danger" %>
          <%= link_to "匯出報告 (PDF)", export_project_path(project, format: :pdf), class: "btn btn-sm btn-secondary" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
